nie.define(function(){{var e={share:nie.require("nie.util.shareV5"),popDialog:nie.require("nie.util.PopDialog"),video:nie.require("nie.util.videoV2"),audio:nie.require("nie.util.audio"),login:nie.require("nie.util.login2"),pager:nie.require("nie.util.pager"),comment:nie.require("nie.util.Comment")},o={isIE:document.all&&!document.addEventListener,isFlash:$.flash.available,dialog:{open:function(e){$(e).show(),setTimeout(function(){$(e).addClass("show")},50)},close:function(e){$(e).removeClass("show"),setTimeout(function(){$(e).hide()},300)}}},i={share:function(){e.share({fat:"#NIE-share",type:6,defShow:[23,22,2,1,3,4],title:$("#share_title").html(),img:$("#share_pic").attr("data-src"),content:$("#share_desc").html()})},topBar:function(){var e,o,i=$(".top-bar"),n=i.find(".btn-nav-more"),l=i.find(".nav-more"),t=l.find(".nav-more-list"),a=function(){o&&clearTimeout(o),i.addClass("hover"),l.addClass("show"),n.removeClass("hover").eq(e).addClass("hover"),t.removeClass("show").eq(e).addClass("show")},s=function(){o=setTimeout(function(){i.removeClass("hover"),l.removeClass("show"),n.removeClass("hover"),t.removeClass("show")},200)};n.on({mouseenter:function(){e=n.index(this),a()},mouseleave:function(){s()}}),l.on({mouseenter:function(){a()},mouseleave:function(){s()}})},slideBar:function(){var e,o=$(window),i=$(".side-bar"),n=function(){e=o.scrollTop(),e>565?i.addClass("fixed"):i.removeClass("fixed")};o.on({scroll:n}).trigger("scroll")},skill:function(){$(".skill-slide").slide({titCell:".skill-btn a",mainCell:".skill-wrap",effect:"left"})},pic:function(){$(".pic-slide").slide({mainCell:".pic-wrap",prevCell:".pic-prev",nextCell:".pic-next",effect:"left"})},comments:function(){var i=function(){$(".cmt_login_info").html(e.login.fn.getUserName()+' <a href="javascript:Login.fn.logOut()">[\u9000\u51fa]</a>')};e.login.create({holder:"#login",css:"https://yys.res.netease.com/pc/zt/20161027141452/css/login_b9f79e0.css",success:function(){i(),o.dialog.close("#dialog-login")}});var n=e.comment.create(".comments",{needLogin:!0,pages:30,init:function(){e.login.fn.isLogin()&&i(),$(".cmt_login_btn").on("click",function(){o.dialog.open("#dialog-login")}),$("#dialog-login .dialog-close").bind("click",function(){o.dialog.close("#dialog-login")})},initComment:function(o){var i=$(".cmt_comments_bd");i.niceScroll({scrollspeed:80,cursorcolor:"#ddd",cursorborderradius:"5px",cursorwidth:"5px",cursorborder:"none",autohidemode:!1,horizrailenabled:!1}),e.pager.create({pager:".cmt_pages",curPage:1,sumPage:o,showNum:10,showFn:!1,callback:function(e){n.getComments(e),setTimeout(function(){i.getNiceScroll().resize(),i.getNiceScroll(0).doScrollTop(0)},200)}})},error_unlogged:function(){o.dialog.open("#dialog-login")},error_failed:function(e){alert(e+"\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\u3002")},error_empty:function(){alert("\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a\uff01")},submit_success:function(){alert("\u53d1\u8868\u6210\u529f\uff01")}})},scrollLoad:function(){var e,o,i=$(window),n=[$(".section2"),$(".section3"),$(".section4"),$(".section5")];i.on("scroll",function(){e=i.height(),o=i.scrollTop();for(var l=0;l<n.length;l++)e+o>n[l].offset().top&&n[l].addClass("show")}).trigger("scroll")},mainAnimate:function(){Loader.show({iFileData:[$(".bg img").attr("src"),$(".soul img").attr("src"),$(".role img").attr("src")],defaultAnimation:!1,completeCallback:function(){$(".main").addClass("animate")}})},media:function(){var i,n,l;$(".btn-cv").on("click",!o.isIE||o.isFlash?function(){i?(i.pause(),i=null,$(".btn-cv").removeClass("playing")):(l=$(this).attr("data-audio"),i=e.audio.create({audio:[l],autoPlay:!0,end:function(){i=null,$(".btn-cv").removeClass("playing")}}),$(".btn-cv").addClass("playing"))}:function(){alert("\u8bf7\u5b89\u88c5Flash!")}),$(".btn-video").on("click",!o.isIE||o.isFlash?function(){i&&(i.pause(),i=null,$(".btn-cv").removeClass("playing")),l=$(this).attr("data-video"),n=e.video({fat:"#video",width:"100%",height:"100%",wmode:"opaque",movieUrl:l,HDmovieUrl:l,SHDmovieUrl:l,autoPlay:!0}),o.dialog.open("#dialog-video")}:function(){alert("\u8bf7\u5b89\u88c5Flash!")}),$("#dialog-video .dialog-close").on("click",function(){o.dialog.close("#dialog-video"),n.destroy()})}};!function(){e.popDialog.config({theme:"red"}),window.alert=e.popDialog.Alert,i.share(),i.topBar(),i.slideBar(),i.skill(),i.pic(),i.comments(),i.media(),o.isIE||(i.scrollLoad(),i.mainAnimate())}()}});